<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Action ë¡œê·¸ ì „ì²´ ì¡°íšŒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-8">
<div class="max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-6">
    <h1 class="text-2xl font-bold mb-4 text-gray-800">ğŸ“œ ì „ì²´ Action ë¡œê·¸</h1>

    <div id="logContainer" class="space-y-4">
        <!-- ë¡œê·¸ë“¤ì´ ì—¬ê¸°ì— ë Œë”ë§ë©ë‹ˆë‹¤ -->
    </div>

    <div id="loading" class="mt-4 text-gray-500">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
</div>

<script>
        async function fetchLogs() {
            try {
                const response = await fetch('/api/logs/action/all');
                if (!response.ok) throw new Error('ë„¤íŠ¸ì›Œí¬ ì‘ë‹µ ì‹¤íŒ¨');

                const result = await response.json();
                const logs = result || [];

                const logContainer = document.getElementById('logContainer');
                const loading = document.getElementById('loading');
                loading.style.display = 'none';

                if (logs.length === 0) {
                    logContainer.innerHTML = '<p class="text-gray-500">ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
                    return;
                }

                logs.forEach(log => {
                    const logItem = document.createElement('div');
                    logItem.className = 'p-4 bg-gray-100 rounded shadow';

                    logItem.innerHTML = `
                        <div class="text-sm text-gray-500 mb-1">ğŸ•“ ${log.time}</div>
                        <div><span class="font-semibold">URL:</span> ${log.url}</div>
                        <div><span class="font-semibold">ë‚´ìš©:</span> ${log.content}</div>
                        <div><span class="font-semibold">ìœ ì €:</span> ${log.userId}</div>
                    `;
                    logContainer.appendChild(logItem);
                });
            } catch (error) {
                document.getElementById('loading').innerText = 'ì˜¤ë¥˜ ë°œìƒ: ' + error.message;
            }
        }

        window.onload = fetchLogs;
    </script>
</body>
</html>
